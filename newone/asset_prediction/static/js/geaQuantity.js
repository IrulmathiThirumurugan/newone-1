// var jsonData = [
//     {
//         "S.NO": 1,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 0,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 2,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 6,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 1022.22
//     },
//     {
//         "S.NO": 3,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 0,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 4,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 0,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 5,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 4,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 681.48
//     },
//     {
//         "S.NO": 6,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4Y51C21217",
//         "Model_Name": "Go Wireless Multi-Device Mouse",
//         "Quantity": 1,
//         "Cost_per_unit": 170.37,
//         "Total_cost": 170.37
//     },
//     {
//         "S.NO": 7,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 9,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 4516.74
//     },
//     {
//         "S.NO": 8,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 4,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 2007.44
//     },
//     {
//         "S.NO": 9,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 0,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 10,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 0,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 11,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 3,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 1505.58
//     },
//     {
//         "S.NO": 12,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "25599-999-999",
//         "Model_Name": "JABRA Evolve2 55 Link380a MS Stereo",
//         "Quantity": 0,
//         "Cost_per_unit": 501.86,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 13,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 1,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 116.66
//     },
//     {
//         "S.NO": 14,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 2,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 233.32
//     },
//     {
//         "S.NO": 15,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 0,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 16,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 1,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 116.66
//     },
//     {
//         "S.NO": 17,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 0,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 18,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4999-823-309",
//         "Model_Name": "JABRA EVOLVE 20 SE STEREO MS",
//         "Quantity": 0,
//         "Cost_per_unit": 116.66,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 19,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 5,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 766.6500000000001
//     },
//     {
//         "S.NO": 20,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 1,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 153.33
//     },
//     {
//         "S.NO": 21,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 22,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 10,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 1533.3
//     },
//     {
//         "S.NO": 23,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 4,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 613.32
//     },
//     {
//         "S.NO": 24,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4X41A30364",
//         "Model_Name": "BO Essential Plus 15.6 BackPack (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 153.33,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 25,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 2,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 238.52
//     },
//     {
//         "S.NO": 26,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 27,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 28,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 29,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 30,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4X41A30365",
//         "Model_Name": "BO Essential Plus 15.6 Topload (Eco)",
//         "Quantity": 0,
//         "Cost_per_unit": 119.26,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 31,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 0,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 32,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 1,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 76.67
//     },
//     {
//         "S.NO": 33,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 0,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 34,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 0,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 35,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 2,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 153.34
//     },
//     {
//         "S.NO": 36,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4X30M86918",
//         "Model_Name": "Preferred Pro II USB Keyboard",
//         "Quantity": 0,
//         "Cost_per_unit": 76.67,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 37,
//         "Location": "9AAE101530ABB",
//         "City": "ALEKSANDROW LODZKI",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 38,
//         "Location": "9AAE104452ABB",
//         "City": "BIELSKO BIALA",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 39,
//         "Location": "9AAE100616ABB",
//         "City": "WARSZAWA",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 40,
//         "Location": "9AAE103835ABB",
//         "City": "KRAKOW",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 41,
//         "Location": "9AAE100611ABB",
//         "City": "PRZASNYSZ",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     },
//     {
//         "S.NO": 42,
//         "Location": "9AAE104087ABB",
//         "City": "WROCLAW",
//         "Product": "4X30L79922",
//         "Model_Name": "KB MICE_BO Essential Wired Combo",
//         "Quantity": 0,
//         "Cost_per_unit": 85.18,
//         "Total_cost": 0
//     }
//     ];
   
var productjs;

  var productjs =[
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            26
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            8,
            7.5,
            8.33,
            9.0,
            9.2,
            8.83
        ]
    },
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            5
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Avg_demand": [
            6,
            4.5,
            5.33,
            6.25,
            5.0,
            4.33
        ]
    },
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            2,
            1.5,
            1.67,
            1.75,
            1.6,
            1.5
        ]
    },
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            10
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            4,
            3.0,
            2.67,
            3.75,
            3.4,
            3.33
        ]
    },
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Avg_demand": [
            5,
            4.5,
            4.67,
            4.0,
            3.2,
            3.33
        ]
    },
    {
        "Product": "4Y51C21217",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Avg_demand": [
            0,
            1.5,
            1.67,
            1.25,
            1.6,
            1.83
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            11
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            9
        ],
        "Avg_demand": [
            7,
            5.5,
            7.0,
            7.0,
            7.6,
            7.67
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Avg_demand": [
            2,
            1.5,
            1.67,
            1.75,
            1.8,
            2.0
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            7
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            2,
            1.0,
            1.67,
            2.25,
            1.8,
            2.17
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            18
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            6,
            5.0,
            4.0,
            3.75,
            3.0,
            3.17
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            3
        ],
        "Avg_demand": [
            5,
            2.5,
            2.33,
            2.25,
            1.8,
            1.67
        ]
    },
    {
        "Product": "25599-999-999",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            1,
            0.5,
            1.0,
            1.0,
            1.4,
            1.67
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            5
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Avg_demand": [
            4,
            2.5,
            2.67,
            2.75,
            2.6,
            2.17
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            11
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Avg_demand": [
            5,
            3.0,
            5.0,
            4.75,
            4.2,
            4.5
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            7
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.33,
            0.25,
            0.4,
            0.33
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            12
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Avg_demand": [
            4,
            4.0,
            4.0,
            3.75,
            4.2,
            4.0
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.33,
            0.25,
            0.2,
            0.33
        ]
    },
    {
        "Product": "4999-823-309",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            7
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.0,
            0.75,
            0.8,
            0.83
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            8
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            5
        ],
        "Avg_demand": [
            8,
            6.5,
            5.67,
            5.5,
            5.4,
            5.33
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            12
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Avg_demand": [
            0,
            1.0,
            4.33,
            4.25,
            3.8,
            3.83
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            10
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.33,
            0.25,
            0.8,
            1.0
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            10
        ],
        "Avg_demand": [
            11,
            7.0,
            5.67,
            5.5,
            4.6,
            4.33
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            3
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Avg_demand": [
            4,
            2.0,
            3.33,
            2.75,
            2.4,
            2.33
        ]
    },
    {
        "Product": "4X41A30364",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.5,
            0.33,
            0.5,
            0.6,
            0.5
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            3
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Avg_demand": [
            2,
            2.0,
            1.67,
            1.75,
            1.6,
            1.5
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            1,
            0.5,
            0.67,
            0.75,
            0.6,
            0.83
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            9
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            1,
            0.5,
            0.33,
            0.25,
            0.2,
            0.17
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            8
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            1.0,
            1.33,
            1.0,
            1.0,
            1.0
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            5
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ]
    },
    {
        "Product": "4X41A30365",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.33,
            0.25,
            0.2,
            0.17
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            11
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            1.5,
            1.0,
            0.75,
            1.4,
            1.5
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Avg_demand": [
            0,
            0.0,
            1.0,
            0.75,
            0.6,
            0.5
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            11
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.0,
            0.0,
            0.2,
            0.17
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.67,
            0.5,
            0.4,
            0.5
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            2
        ],
        "Avg_demand": [
            0,
            0.0,
            1.33,
            1.0,
            0.8,
            0.67
        ]
    },
    {
        "Product": "4X30M86918",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            1
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.5,
            0.33,
            0.5,
            0.4,
            0.5
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            10
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            1,
            1.5,
            2.0,
            2.5,
            2.2,
            2.5
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            6
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.67,
            1.25,
            1.4,
            1.17
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            9
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            2,
            1.0,
            0.67,
            0.5,
            0.8,
            0.67
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            25
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            2,
            1.5,
            1.67,
            1.5,
            5.6,
            5.0
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            3
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            1.0,
            0.75,
            0.6,
            0.67
        ]
    },
    {
        "Product": "4X30L79922",
        "Inventory": [
            0,
            0,
            0,
            0,
            0,
            4
        ],
        "Predicted": [
            0,
            0,
            0,
            0,
            0,
            0
        ],
        "Avg_demand": [
            0,
            0.0,
            0.0,
            0.5,
            0.6,
            0.5
        ]
    }
];
   
  // Default data for chart rendering
  var dummyinventory = [100, 100, 100, 100, 100, 100];
  var dummyIntransit = [50, 50, 50, 50, 50, 50];
  var dummypredicted = [75, 75, 75, 75, 75, 75];
   
  // Current chart instance for bar chart destruction
  var currentBarChart = null;

  function getdata(get_url) {

    return new Promise(function (resolve, reject) {
    
      $.ajax({
    
        url: get_url,
    
        type: 'GET',  // GET is the default, but you can specify it here
    
        headers: {
    
          'ngrok-skip-browser-warning': '1'  // Custom header to skip browser warning for ngrok
    
        },
    
        success: function (data) {
    
          resolve(data);  // Resolve the promise with the API data
    
        },
    
        error: function (jqXHR, textStatus, errorThrown) {
    
          reject(new Error('Request failed: ' + textStatus));  // Reject the promise in case of error
    
        }
    
      });
    
    });
    
    }
    
//     var productjs;

//     async function fetchData123() {

//         //  productjs = await getdata('https://piranha-robust-polliwog.ngrok-free.app/dashboardinv');
        
//         productjs = await getdata('http://127.0.0.1:5000//dashboardinv');
        
        
        
//         // The next line will only be executed once productjs has been retrieved
        
//         console.log(productjs);
        
        
        
//         // Continue with other code
        
//         // ...other logic here
        
//         }
        
//         fetchData123();
        
  // Populate the table with data
  async function populateTable() {
    var Url_path = "https://piranha-robust-polliwog.ngrok-free.app/dashboardpqgea"

    var jsonData = await getdata("https://piranha-robust-polliwog.ngrok-free.app/dashboardpqgea");

    console.log(jsonData);

    const tableBody = document.querySelector('#predQuantityTable tbody');
    jsonData.forEach((item, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
   
  <td class="border-bottom-0"><h6 class="fw-semibold mb-1">${item.PartNumber}</h6></td>
  <td class="border-bottom-0"><p class="mb-0 fw-normal">${item.Location}</p></td>
  <td class="border-bottom-0"><div class="d-flex align-items-center gap-2"><p class="mb-0 fw-normal">${item.City}</p></div></td>
  <td class="border-bottom-0"><p class="fw-normal mb-0 fs-3">${item.ModelName}</p></td>
  <td class="border-bottom-0"><h6 class="fw-semibold mb-0 fs-4">${item.Quantity}</h6></td>
  <td class="border-bottom-0"><p class="fw-semibold mb-0 fs-4">${item.Unit_Cost}</p></td>
  <td class="border-bottom-0"><p class="fw-semibold mb-0 fs-4">${item.Total_Cost}</p></td>
        `;
   
        // Automatically select the first row
        if (index === 0) {
            row.classList.add('clicked-row');
        }
   
        // Event listener for row clicks
        row.addEventListener('click', function () {
            document.querySelectorAll('tr').forEach(r => r.classList.remove('clicked-row'));
            row.classList.add('clicked-row');
   
            const selectedProduct = item["Part Number"];
            const selectedProductLocation = item.City;
            const selectedProductData = productjs.find(prodItem => prodItem.Product === ((prodItem.Product === selectedProduct)&& (prodItem["Location"]===selectedProductLocation) ));
   
            if (selectedProductData) {
                updateBarChart(selectedProductData.Inventory, selectedProductData.Avg_demand, selectedProductData.Predicted);
            }
        });
   
        tableBody.appendChild(row);
    });
   
    // Automatically call the function for the first product after table load
    if (productjs.length > 0) {
        updateBarChart(productjs[0].Inventory, productjs[0].Avg_demand, productjs[0].Predicted);
    }
  }
   
  // Function to update the bar chart dynamically
  function updateBarChart(inventory1 = dummyinventory, Intransit1 = dummyIntransit, Predicted1 = dummypredicted) {
    if (currentBarChart) {
        currentBarChart.destroy();  // Destroy previous chart instance
    }
   
    var barChartOptions = {
        series: [
            { name: "In Inventory:", data: inventory1 },
            { name: "Avg_demand:", data: Intransit1 },
            { name: "Predicted required quantity:", data: Predicted1 }
        ],
        chart: {
            type: "bar",
            height: 345,
            offsetX: -15,
            toolbar: { show: true },
            foreColor: "#adb0bb",
            fontFamily: 'inherit',
            sparkline: { enabled: false },
        },
        colors: ["#ea7705", "#df0a0a"],
        plotOptions: {
            bar: {
                horizontal: false,
                columnWidth: "35%",
                borderRadius: [5],
                borderRadiusApplication: 'end',
                borderRadiusWhenStacked: 'all'
            },
        },
        dataLabels: { enabled: false },
        legend: { show: true },
        grid: {
            borderColor: "rgba(0,0,0,0.1)",
            strokeDashArray: 3,
            xaxis: { lines: { show: true } },
        },
        xaxis: {
            type: "category",
            categories: ["April", "May", "June", "July", "August", "September"],
            labels: { style: { cssClass: "grey--text lighten-2--text fill-color" } }
        },
        yaxis: {
            show: true,
            min: 0,
            max: 10,
            tickAmount: 4,
            labels: { style: { cssClass: "grey--text lighten-2--text fill-color" } }
        },
        stroke: { show: true, width: 3, lineCap: "butt", colors: ["transparent"] },
        tooltip: { theme: "light" },
        responsive: [
            {
                breakpoint: 600,
                options: {
                    plotOptions: { bar: { borderRadius: 3 } }
                }
            }
        ]
    };
   
    // Create the bar chart
    currentBarChart = new ApexCharts(document.querySelector("#chart"), barChartOptions);
    currentBarChart.render();
  }
   
  // Function to render constant yearly cost breakup chart
  function renderYearlyCostBreakup() {
    var breakupOptions = {
        color: "#adb5bd",
        series: [38, 40, 25],  // Static data for years 2020, 2021, 2022
        labels: ["2020", "2021", "2022"],
        chart: {
            width: 180,
            type: "donut",
            fontFamily: "Plus Jakarta Sans', sans-serif",
            foreColor: "#adb0bb",
        },
        plotOptions: {
            pie: {
                startAngle: 0,
                endAngle: 360,
                donut: { size: '75%' }
            }
        },
        stroke: { show: false },
        dataLabels: { enabled: false },
        legend: { show: false },
        colors: ["#ea7705", "#df0a0a", "#e7ea05"],
        responsive: [
            { breakpoint: 991, options: { chart: { width: 150 } } }
        ],
        tooltip: { theme: "dark", fillSeriesColor: false }
    };
   
    // Create the breakup chart
    new ApexCharts(document.querySelector("#breakup"), breakupOptions).render();
  }
   
  // Function to render constant monthly open tasks chart
  function renderMonthlyOpenTasks() {
    var earningOptions = {
        chart: {
            id: "sparkline3",
            type: "area",
            height: 60,
            sparkline: { enabled: true },
            group: "sparklines",
            fontFamily: "Plus Jakarta Sans', sans-serif",
            foreColor: "#adb0bb",
        },
        series: [
            {
                name: "Open Tasks",
                color: "#ea7705",
                data: [25, 66, 20, 40, 12, 58, 20]  // Static data
            }
        ],
        stroke: { curve: "smooth", width: 2 },
        fill: { colors: ["#df0a0a"], type: "solid", opacity: 0.05 },
        markers: { size: 0 },
        tooltip: {
            theme: "dark",
            fixed: { enabled: true, position: "right" },
            x: { show: false }
        }
    };
   
    // Create the earning (open tasks) chart
    new ApexCharts(document.querySelector("#earning"), earningOptions).render();
  }
   
  // Main initialization function
  function initGeaQuantity() {
    console.log("Initializing geaQuantity.js");
  
    // Populate the table
    populateTable();
  
    // Render constant charts
    renderYearlyCostBreakup();
    renderMonthlyOpenTasks();
  }
  
  
  
  
  